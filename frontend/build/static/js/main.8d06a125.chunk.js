(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{16:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(18),s=n.n(o),i=(n(29),n(10)),r=n(24),u=n(2),l=n(3),p=n.p+"static/media/header-logo.bbe2a6ea.svg",d=n(8),j=n(0);var b=function(e){var t=e.userEmail,n=e.onLogOut;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("img",{src:p,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"}),Object(j.jsx)(l.b,{path:"/sign-up",children:Object(j.jsx)(d.b,{to:"/sign-in",className:"header__auth",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(j.jsx)(l.b,{path:"/sign-in",children:Object(j.jsx)(d.b,{to:"/sign-up",className:"header__auth",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(j.jsx)(l.b,{exact:!0,path:"/",children:Object(j.jsxs)("div",{className:"header__profile",children:[Object(j.jsx)("p",{className:"header__email",children:t}),Object(j.jsx)(d.b,{to:"/sign-in",className:"header__sign-out",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"})]})})]})},m=c.a.createContext();var h=function(e){var t=c.a.useContext(m),n=e.card.owner._id===t._id,a="photo__button-delete ".concat(n?"photo__button-delete_active":""),o=e.card.likes.some((function(e){return e._id===t._id})),s="photo__button-like ".concat(o?"photo__button-like_active":"");return Object(j.jsxs)("li",{className:"photo",children:[Object(j.jsx)("button",{className:a,onClick:function(){e.onCardDelete(e.card._id)},type:"button"}),Object(j.jsx)("img",{className:"photo__item",onClick:function(){e.onCardClick(e.card)},src:e.card.link,alt:e.card.name}),Object(j.jsxs)("div",{className:"photo__description",children:[Object(j.jsx)("h2",{className:"photo__title",children:e.card.name}),Object(j.jsxs)("div",{className:"photo__likebox",children:[Object(j.jsx)("button",{className:s,onClick:function(){e.onCardLike(e.card)},type:"button"}),Object(j.jsx)("div",{className:"photo__count",children:e.likeCounter})]})]})]})};var _=function(e){var t=c.a.useContext(m);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsx)("div",{className:"profile__avatar",children:Object(j.jsx)("button",{onClick:e.onEditAvatar,className:"profile__avatar-button",children:Object(j.jsx)("img",{src:t.avatar,alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f",className:"profile__image"})})}),Object(j.jsxs)("div",{className:"profile__info",children:[Object(j.jsxs)("div",{className:"profile__name-box",children:[Object(j.jsx)("h1",{className:"profile__name text",children:t.name||""}),Object(j.jsx)("button",{className:"profile__button profile__button-edit",onClick:e.onEditProfile,type:"button"})]}),Object(j.jsx)("div",{className:"profile__prof text",children:t.about||""})]}),Object(j.jsx)("button",{className:"profile__button profile__button-add",onClick:e.onAddPlace,type:"button"})]}),Object(j.jsx)("section",{className:"gallery",children:Object(j.jsx)("ul",{className:"gallery__list",children:e.cards.map((function(t){return Object(j.jsx)(h,{card:t,likeCounter:t.likes.length,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete},t._id)}))})})]})};var O=function(){var e=(new Date).getFullYear();return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("p",{className:"footer__author",children:["\xa9 ",e," \u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u041c\u0438\u043b\u044f\u043a\u043e\u0432"]})})};var f=function(e){return Object(j.jsx)("div",{className:"popup popup_type_fullscreen-image ".concat(e.card.link&&"popup_opened"),children:Object(j.jsxs)("figure",{className:"popup__image-container",children:[Object(j.jsx)("button",{className:"popup__button-close",onClick:e.onClose,type:"button"}),Object(j.jsx)("img",{className:"popup__image",src:"".concat(e.card.link),alt:e.card.name}),Object(j.jsx)("figcaption",{className:"popup__image-caption",children:e.card.name})]})})},x=n(21),g=n(22),v=new(function(){function e(t){Object(x.a)(this,e),this._url=t.url,this._headers=t.headers}return Object(g.a)(e,[{key:"setToken",value:function(e){this._headers.authorization="Bearer ".concat(e)}},{key:"_request",value:function(e,t){return fetch(e,t).then(this._responseResult)}},{key:"_responseResult",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getInitialCards",value:function(){return this._request("".concat(this._url,"/cards"),{method:"GET",headers:this._headers})}},{key:"getUserData",value:function(){return this._request("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers})}},{key:"addNewCard",value:function(e){return this._request("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)})}},{key:"deleteCard",value:function(e){return this._request("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"updateUserData",value:function(e){return this._request("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)})}},{key:"changeLikeCardStatus",value:function(e,t){return t?this.addLike(e):this.deleteLike(e)}},{key:"addLike",value:function(e){return this._request("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}},{key:"deleteLike",value:function(e){return this._request("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"updateAvatar",value:function(e){return this._request("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)})}}]),e}())({url:"https://api.mesto-exo.nomoredomains.icu",headers:{"content-type":"application/json"}});var N=function(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit,c=e.name,o=e.title,s=e.submitText,i=e.children;return Object(j.jsx)("div",{className:"popup ".concat(t&&"popup_opened"),children:Object(j.jsx)("div",{className:"popup__container popup__container_type_".concat(c),children:Object(j.jsxs)("form",{onSubmit:a,className:"popup__form",name:c,children:[Object(j.jsx)("button",{className:"popup__button-close",onClick:n,type:"button"}),Object(j.jsx)("h2",{className:"popup__head",children:o}),i,Object(j.jsx)("button",{className:"popup__button-submit",type:"submit",children:s})]})})})};var k=function(e){var t=c.a.useContext(m),n=c.a.useState(""),a=Object(u.a)(n,2),o=a[0],s=a[1],i=c.a.useState(""),r=Object(u.a)(i,2),l=r[0],p=r[1],d=c.a.useState("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),b=Object(u.a)(d,2),h=b[0],_=b[1];return c.a.useEffect((function(){!0===e.isOpen&&(s(t.name),p(t.about))}),[e.isOpen]),Object(j.jsxs)(N,{name:"form",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submitText:h,isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),_("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),e.onUpdateUser({name:o,about:l}).then((function(){return e.onClose()})).catch((function(e){return console.log(e)})).finally((function(){_("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}))},children:[Object(j.jsx)("input",{className:"popup__input popup__input_type_name",id:"name-item",type:"text",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",minLength:"2",maxLength:"40",value:o,onChange:function(e){s(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"name-item-error"}),Object(j.jsx)("input",{className:"popup__input popup__input_type_about",id:"about-item",type:"text",name:"about",placeholder:"\u041e \u0441\u0435\u0431\u0435",minLength:"2",maxLength:"200",value:l,onChange:function(e){p(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"about-item-error"})]})};var C=function(e){var t=c.a.useState("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n=Object(u.a)(t,2),a=n[0],o=n[1],s=c.a.useRef();function i(){e.onClose(),setTimeout((function(){return s.current.value=""}),200)}return Object(j.jsxs)(N,{onSubmit:function(t){t.preventDefault(),o("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),e.onUpdateAvatar({avatar:s.current.value}).then((function(){i()})).finally((function(){o("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")}))},name:"avatar",title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submitText:a,isOpen:e.isOpen,onClose:i,children:[Object(j.jsx)("input",{ref:s,className:"popup__input popup__input_type_link",id:"avatar-item",type:"url",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"avatar-item-error"})]})};var y=function(e){var t=e.isOpen,n=e.onClose,a=e.card,o=e.onSubmit,s=c.a.useState("\u0414\u0430"),i=Object(u.a)(s,2),r=i[0],l=i[1];return Object(j.jsx)(N,{name:"delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",formName:"delete-card",isOpen:t,onClose:n,submitText:r,onSubmit:function(e){e.preventDefault(),l("\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435..."),o(a).then((function(){l("\u0414\u0430")}))}})};var S=function(e){var t=c.a.useState("\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n=Object(u.a)(t,2),a=n[0],o=n[1],s=c.a.useState(""),i=Object(u.a)(s,2),r=i[0],l=i[1],p=c.a.useState(""),d=Object(u.a)(p,2),b=d[0],m=d[1];function h(){e.onClose(),setTimeout((function(){l(""),m("")}),20)}return Object(j.jsxs)(N,{name:"form",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitText:a,isOpen:e.isOpen,onClose:h,onSubmit:function(t){t.preventDefault(),o("\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."),e.onAddPlace({name:r,link:b}).then((function(){return h()})).finally((function(){o("\u0421\u043e\u0437\u0434\u0430\u0442\u044c")}))},children:[Object(j.jsx)("input",{className:"popup__input popup__input_type_caption",id:"title-item",type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"1",maxLength:"30",value:r,onChange:function(e){l(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"title-item-error"}),Object(j.jsx)("input",{className:"popup__input popup__input_type_link",id:"link-item",type:"url",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",value:b,onChange:function(e){m(e.target.value)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error",id:"link-item-error"})]})},T=n(23),L=["component"];var w=function(e){var t=e.component,n=Object(T.a)(e,L);return Object(j.jsx)(l.b,{children:function(){return n.loggedIn?Object(j.jsx)(t,Object(i.a)({},n)):Object(j.jsx)(l.a,{to:"/sign-in"})}})};n(16);var E=function(e){var t=e.section,n=e.title,a=e.submit,c=e.emailValue,o=e.passwordValue,s=e.onChange,i=e.submitText;return Object(j.jsx)("section",{className:t,children:Object(j.jsxs)("div",{className:"sign",children:[Object(j.jsx)("h2",{className:"sign__welcome",children:n}),Object(j.jsxs)("form",{className:"sign__form",onSubmit:a,children:[Object(j.jsx)("input",{className:"sign__item",id:"email",name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-mail",value:c,onChange:s,required:!0}),Object(j.jsx)("input",{className:"sign__item",id:"password",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:o,onChange:s,autoComplete:"off",minLength:"5",required:!0}),Object(j.jsx)("button",{className:"sign__button",type:"submit",children:i})]})]})})};var D=function(e){var t=e.onLogin,n=c.a.useState(""),a=Object(u.a)(n,2),o=a[0],s=a[1],i=c.a.useState(""),r=Object(u.a)(i,2),l=r[0],p=r[1];return Object(j.jsx)(E,{section:"login",title:"\u0412\u0445\u043e\u0434",submit:function(e){e.preventDefault(),o&&l&&t(o,l)},onChange:function(e){"email"===e.target.name?s(e.target.value):"password"===e.target.name&&p(e.target.value)},submitText:"\u0412\u043e\u0439\u0442\u0438",emailValue:o,passwordValue:l})};var P=function(e){var t=e.onRegister,n=c.a.useState(""),a=Object(u.a)(n,2),o=a[0],s=a[1],i=c.a.useState(""),r=Object(u.a)(i,2),l=r[0],p=r[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{section:"register",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",emailValue:o,passwordValue:l,submit:function(e){e.preventDefault(),t(o,l)},onChange:function(e){"email"===e.target.name?s(e.target.value):"password"===e.target.name&&p(e.target.value)},submitText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(j.jsx)("div",{className:"sign__sign-in",children:Object(j.jsx)(d.b,{to:"sign-in",className:"sign__login-link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438."})})]})};var q=function(e){var t=e.isOpen,n=e.popupName,c=e.onClose,o=e.children,s=e.isImagePopup;return Object(a.useEffect)((function(){if(t)return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&c()}}),[t,c]),Object(j.jsx)("section",{className:"popup ".concat(t?"popup_opened":""),onClick:function(e){e.target===e.currentTarget&&c()},children:Object(j.jsxs)("div",{className:"".concat(s?"popup_type_fullscreen-image":"popup__container popup__container_type_".concat(n)),children:[o,Object(j.jsx)("button",{className:"popup__button-close",type:"button",onClick:c})]})})},A=n.p+"static/media/OK.a9eb6caf.svg",U=n.p+"static/media/REJECT.d4ce2a26.svg";var I=function(e){var t=e.namePopup,n=e.isOpen,a=e.onClose,c=e.isSuccess;return Object(j.jsx)(q,{popupName:t,isOpen:n,onClose:a,children:Object(j.jsxs)("figure",{className:"infoTooltip__figure",children:[Object(j.jsx)("img",{className:"infoTooltip__img",src:c?A:U,alt:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),Object(j.jsx)("figcaption",{className:"infoTooltip__caption",children:c?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."})]})})},F=function(e){var t=e.url,n=e.method,a=void 0===n?"POST":n,c=e.token,o=e.body,s=Object(i.a)({method:a,headers:Object(i.a)({"Content-Type":"application/json"},!!c&&{Authorization:"Bearer ".concat(c)})},!!o&&{body:JSON.stringify(o)});return fetch("".concat("https://api.mesto-exo.nomoredomains.icu").concat(t),s).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))};n(39);var J=function(){return Object(j.jsx)("div",{className:"notFound page__container",children:Object(j.jsxs)("p",{className:"notFound__note",children:["\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435\xa0\u0442\u0430\u043a! \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b\xa0\u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0435, \u043d\u0435\xa0\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043d\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430, \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0438\u043b\u0438 \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0432\xa0\u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435.",Object(j.jsx)(d.b,{className:"notFound__link",to:"/",children:Object(j.jsx)("button",{type:"submit",className:"notFound__button",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})};var R=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(u.a)(o,2),p=s[0],d=s[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),g=x[0],N=x[1],T=Object(a.useState)(!1),L=Object(u.a)(T,2),E=L[0],q=L[1],A=Object(a.useState)({name:"",link:""}),U=Object(u.a)(A,2),R=U[0],V=U[1],B=Object(a.useState)({}),z=Object(u.a)(B,2),G=z[0],H=z[1],K=Object(a.useState)(!1),M=Object(u.a)(K,2),Y=M[0],Q=M[1],W=Object(a.useState)([]),X=Object(u.a)(W,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),oe=Object(u.a)(ce,2),se=oe[0],ie=oe[1],re=Object(a.useState)(!1),ue=Object(u.a)(re,2),le=ue[0],pe=ue[1],de=Object(a.useState)(!1),je=Object(u.a)(de,2),be=je[0],me=je[1],he=Object(a.useState)(""),_e=Object(u.a)(he,2),Oe=_e[0],fe=_e[1],xe=Object(l.g)();function ge(){c(!1),d(!1),N(!1),q(!1),Q(!1),V({name:"",link:""}),me(!1)}return Object(a.useEffect)((function(){se&&(!function(){var e=localStorage.getItem("jwt");e&&(v.setToken(e),v.getUser(e).then((function(e){var t=e.email;H(Object(i.a)(Object(i.a)({},G),{},{email:t})),ie(!0)})).catch((function(e){return console.log(e)})))}(),Promise.all([v.getUserData(),v.getInitialCards()]).then((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];H(n),$(a)})).catch((function(e){return console.log(e)})))}),[se]),Object(j.jsxs)(m.Provider,{value:G,children:[Object(j.jsx)(b,{userEmail:Oe,onLogOut:function(){localStorage.removeItem("jwt"),ie(!1),fe(""),xe.push("/sign-in"),console.log("\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0445\u043e\u0434\u0430:",(new Date).toLocaleTimeString())}}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(w,{component:_,loggedIn:se,exact:!0,path:"/",onCardClick:function(e){V(e),Q(!0)},onEditProfile:function(){c(!0)},onAddPlace:function(){d(!0)},onEditAvatar:function(){N(!0)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===G._id}));v.changeLikeCardStatus(e._id,!t).then((function(t){$((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043b\u0430\u0439\u043a\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ",e)}))},onCardDelete:function(e){ae(e),q(!0)},cards:Z}),Object(j.jsx)(l.b,{path:"/sign-up",children:Object(j.jsx)(P,{onRegister:function(e,t){(function(e,t){return F({url:"/signup",body:{email:e,password:t}})})(e,t).then((function(e){e&&(console.log("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"),pe(!0),me(!0),xe.push("/sign-in"))})).catch((function(e){me(!0),pe(!1),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",e)}))}})}),Object(j.jsx)(l.b,{path:"/sign-in",children:Object(j.jsx)(D,{onLogin:function(e,t){(function(e,t){return F({url:"/signin",body:{email:e,password:t}}).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))})(e,t).then((function(t){var n=t.token;t.token&&(localStorage.setItem("jwt",n),v.setToken(n),ie(!0),fe(e),xe.push("/"),console.log("\u0412\u0440\u0435\u043c\u044f \u0432\u0445\u043e\u0434\u0430:",(new Date).toLocaleTimeString()))})).catch((function(e){me(!0),pe(!1),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443:",e)}))}})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)(J,{})}),Object(j.jsx)(l.b,{children:se?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsx)(l.a,{to:"/sign-up"})})]}),Object(j.jsx)(O,{}),Object(j.jsx)(f,{card:R,isOpen:Y,onClose:ge}),Object(j.jsx)(k,{isOpen:n,onClose:ge,onUpdateUser:function(e){return v.updateUserData(e).then((function(e){H(e)})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",e)}))}}),Object(j.jsx)(S,{isOpen:p,onClose:ge,onAddPlace:function(e){return v.addNewCard(e).then((function(e){$([e].concat(Object(r.a)(Z)))})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",e)}))}}),Object(j.jsx)(y,{isOpen:E,onClose:ge,onSubmit:function(e){return v.deleteCard(e).then((function(){$((function(t){return t.filter((function(t){return t._id!==e}))})),ge()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: ".concat(e))}))},card:ne}),Object(j.jsx)(C,{isOpen:g,onClose:ge,onUpdateAvatar:function(e){return v.updateAvatar(e).then((function(e){H(e)})).catch((function(e){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430",e)}))}}),Object(j.jsx)(I,{namePopup:"infoTooltip",isSuccess:le,isOpen:be,onClose:ge})]})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(R,{})})}),document.getElementById("page"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8d06a125.chunk.js.map